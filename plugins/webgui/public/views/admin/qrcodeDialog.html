<md-dialog aria-label="二维码" style="max-width: 400px;">
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h2>二维码 - {{ configName }}</h2>
      <span flex></span>
      <md-button class="md-icon-button" ng-click="closeDialog()">
        <md-icon>close</md-icon>
      </md-button>
    </div>
  </md-toolbar>
  
  <md-dialog-content style="padding: 24px; text-align: center;">
    <!-- 二维码加载状态 -->
    <div ng-if="!qrReady" style="padding: 40px;">
      <md-progress-circular md-mode="indeterminate" md-diameter="40" class="md-primary"></md-progress-circular>
      <div style="margin-top: 16px; color: #666;">正在生成二维码...</div>
    </div>
    
    <!-- 二维码内容 -->
    <div ng-if="qrReady">
      <div style="background: white; display: inline-block; padding: 16px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <qr text="configText" size="240" image="true"></qr>
      </div>
      <div style="margin-top: 16px; word-break: break-all; font-size: 12px; color: #666; max-height: 100px; overflow-y: auto;">
        {{ configText }}
      </div>
    </div>
  </md-dialog-content>
  
  <md-dialog-actions layout="row" layout-align="end center">
    <md-button ng-click="copyText()" class="md-primary">复制链接</md-button>
    <md-button ng-click="closeDialog()">关闭</md-button>
  </md-dialog-actions>
</md-dialog>